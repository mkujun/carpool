@model CarSharingViewModel
@{
    ViewData["Title"] = "CreateCarRide";
}

<div class="card">
    <div class="card-header">
        Create car ride
    </div>
    <div class="card-body">
        <h5 class="card-title">Ride details</h5>

    @using (Html.BeginForm("CreateCarRide", "Home", FormMethod.Post))
    {
        <div class="form-group">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.StartLocation">Start Location</label>
                    <input asp-for="@Model.StartLocation" type="text" class="form-control" />
                </div>
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.EndLocation">End Location</label>
                    <input asp-for="@Model.EndLocation" type="text" class="form-control" />
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.StartDate">Start Date</label>
                    <input asp-for="@Model.StartDate" type="date" asp-format="{0:d}" class="form-control" />
                </div>
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.EndDate">End Date</label>
                    <input asp-for="@Model.EndDate" type="date" asp-format="{0:d}" class="form-control" />
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.SelectedCarPlates">Select Car</label>
                    <select class = "form-control" asp-for="@Model.SelectedCarPlates" asp-items="@(new SelectList(Model.ListOfCars, "Plates", "CarType"))"></select>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label asp-for="@Model.SelectedEmployeesId">Select employees for the ride</label>
                    <div class="form-inline">
                        <select class="form-control mb-2" asp-for="@Model.SelectedEmployeesId" id="employeeId"  asp-items="@(new SelectList(Model.ListOfEmployees, "Id", "Name"))"></select>
                        <button type="button" id ="addEmployee"class="btn btn-secondary mb-2 mx-2">Add employee to ride</button>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                </div>
            </div>
        </div>

        <div class="form-group">
            <table class="table col-md-8" id="employeeOnRideTable">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Employee Id</th>
                        <th scope="col">Name</th>
                        <th scope="col">Is driver</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>one</td>
                        <td>yes</td>
                    </tr>
                    <tr>
                        <th scope="row">2</th>
                        <td>two</td>
                        <td>yes</td>
                    </tr>
                    <tr>
                        <th scope="row">3</th>
                        <td>three</td>
                        <td>no</td>
                    </tr>
                    <tr>
                        <th scope="row">4</th>
                        <td>four</td>
                        <td>no</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button type="button" class="btn btn-primary">Create wild ride!</button>
    }

    </div>
</div>

@section scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $("#addEmployee").click(function () {
                $('#employeeOnRideTable').append('<tr><td>my data</td><td>more data</td><td><button class="btnDelete">Delete</td></tr>');
            });
            $("#employeeOnRideTable").on("click", ".btnDelete", function () {
                $(this).closest("tr").remove();
            });
        });
    </script>
}
